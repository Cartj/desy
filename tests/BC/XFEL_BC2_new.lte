! 
! XFEL lattice
! component_list_8.3.2.xls -> elegant_lattice
!

Q : CHARGE,TOTAL=1e-9 
M0: WATCH, FILENAME="%s.M0"
M1: WATCH, FILENAME="%s.M1"


% 0 sto CSRflag
% 600 sto N_CSR_BIN
% 10 sto N_CSR_KICK
% 20 sto fwidth

!% 5e+008 sto AC_V
% 0 sto AC_V




% 0.033646252962410 sto PHI_BC2

% 0.5 sto L0
% L0 PHI_BC2 * PHI_BC2 sin / sto L_BC2


! BC2
BB.393.B2 :   CSRCSBEND, L = "L_BC2", ANGLE = "PHI_BC2", E1 = 0.000000000, E2 = "PHI_BC2", TILT = 1.570796330, &
    ISR=0, CSR="CSRflag", N_KICKS="N_CSR_KICK", BINS="N_CSR_BIN", SG_HALFWIDTH = "fwidth", SYNCH_RAD=0 
BB.402.B2 :   CSRCSBEND, L = "L_BC2", ANGLE = "PHI_BC2 -1 *", E1 = "PHI_BC2 -1 *", E2 = 0.000000000, TILT = 1.570796330, &
    ISR=0, CSR="CSRflag", N_KICKS="N_CSR_KICK", BINS="N_CSR_BIN", SG_HALFWIDTH = "fwidth", SYNCH_RAD=0 
BB.404.B2 :   CSRCSBEND, L = "L_BC2", ANGLE = "PHI_BC2 -1 *", E1 = 0.000000000, E2 = "PHI_BC2 -1 *", TILT = 1.570796330, &
    ISR=0, CSR="CSRflag", N_KICKS="N_CSR_KICK", BINS="N_CSR_BIN", SG_HALFWIDTH = "fwidth", SYNCH_RAD=0 
BB.413.B2 :   CSRCSBEND, L = "L_BC2", ANGLE = "PHI_BC2", E1 = "PHI_BC2", E2 = 0.000000000, TILT = 1.570796330, &
    ISR=0, CSR="CSRflag", N_KICKS="N_CSR_KICK", BINS="N_CSR_BIN", SG_HALFWIDTH = "fwidth", SYNCH_RAD=0 


D10cm :   	DRIFT, L = 0.1 
CD850cm: 	CSRDRIFT, L = "8.5 PHI_BC2 cos /", DZ=0.01,USE_STUPAKOV=1, CSR="CSRflag"
CD150cm: 	CSRDRIFT, L = 1.5, DZ=0.01,USE_STUPAKOV=1, CSR="CSRflag"
CD100cm: 	CSRDRIFT, L = 1, DZ=0.01,USE_STUPAKOV=1, CSR="CSRflag"

BC2 : LINE = (Q,M0,D10cm,&
    BB.393.B2, CD850cm,&
    BB.402.B2, CD150cm,&
    BB.404.B2, CD850cm,& 
    BB.413.B2, &
    CD100cm,M1) 

QD.415.B2 :   QUAD, L = 0.2000000, K1 = 0.3, TILT = 0.000000000 
QD.417.B2 :   QUAD, L = 0.2000000, K1 = -0.2, TILT = 0.000000000 
QD.418.B2 :   QUAD, L = 0.2000000, K1 = -0.5, TILT = 0.000000000 

D13cm :   	DRIFT, L = 0.13
D130cm :   DRIFT, L = 1.3 

Q.249.L2 :   QUAD, L = 0.3000000, K1 = 0.25, TILT = 0.000000000 
Q.261.L2 :   QUAD, L = 0.3000000, K1 = -0.29711100, TILT = 0.000000000

D34cm59 :   DRIFT, L = 0.3459 

C.A3:   RFCW, L = 1.0377000, PHASE = 0.0, VOLT = "AC_V", FREQ = 1.300e+009, & 
    CHANGE_P0 = 1, END1_FOCUS = 1, END2_FOCUS = 1, BODY_FOCUS_MODEL = "SRS", &
    N_KICKS=50, LSC_BINS=50, CELL_LENGTH=0.035 


L3 : LINE = (	D13cm,QD.415.B2,D130cm, QD.417.B2, D130cm, QD.418.B2,D130cm,&
    	C.A3, D34cm59, C.A3, D34cm59, C.A3, D34cm59, C.A3, D34cm59,& 
	C.A3, D34cm59, C.A3, D34cm59, C.A3, D34cm59, C.A3, D13cm ,& 
	Q.249.L2, D34cm59,& 
	C.A3, D34cm59, C.A3, D34cm59, C.A3, D34cm59, C.A3, D34cm59,& 
	C.A3, D34cm59, C.A3, D34cm59, C.A3, D34cm59, C.A3, D13cm,& 
	Q.261.L2, D130cm)  

BC2_L3 : LINE = (BC2,L3)

